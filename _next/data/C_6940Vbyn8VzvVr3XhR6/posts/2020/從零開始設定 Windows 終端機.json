{"pageProps":{"post":{"title":"從零開始設定 Windows 終端機","date":"2021-12-23T22:00:00Z","slug":"2020/從零開始設定 Windows 終端機","content":"<p>最近又 (再一次) 開始設定 Windows 終端機，順便紀錄過程，方便未來查找。</p>\n<h2 id=\"安裝-wsl2\">安裝 WSL2<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#安裝-wsl2\"><span class=\"ml-2\">#</span></a></h2>\n<p>使用系統管理員身分執行 Powershell，並輸入以下指令：</p>\n<pre><code class=\"hljs language-css\">wsl <span class=\"hljs-attr\">--install</span>\n</code></pre>\n<p>https://docs.microsoft.com/zh-tw/windows/wsl/install</p>\n<h2 id=\"git-基本設定\">Git 基本設定<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#git-基本設定\"><span class=\"ml-2\">#</span></a></h2>\n<p>透過以下指令設定全域的用戶名稱與電子郵件信箱：</p>\n<pre><code class=\"hljs language-bash\">git config --global user.name <span class=\"hljs-string\">\"John Doe\"</span>\ngit config --global user.email johndoe@example.com\n</code></pre>\n<p>https://git-scm.com/book/zh-tw/v2/%E9%96%8B%E5%A7%8B-%E5%88%9D%E6%AC%A1%E8%A8%AD%E5%AE%9A-Git</p>\n<p>設定更容易閱讀的 git 紀錄指令： <code>git lg</code></p>\n<pre><code class=\"hljs language-bash\">git config --global alias.lg <span class=\"hljs-string\">\"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&#x3C;%an>%Creset' --abbrev-commit\"</span>\n</code></pre>\n<p>https://coderwall.com/p/euwpig/a-better-git-log</p>\n<h2 id=\"安裝-zsh\">安裝 zsh<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#安裝-zsh\"><span class=\"ml-2\">#</span></a></h2>\n<pre><code class=\"hljs language-bash\">sudo apt install zsh\n\n<span class=\"hljs-comment\"># 將 zsh 設定為預設的 shell</span>\nchsh -s $(<span class=\"hljs-built_in\">which</span> zsh)\n</code></pre>\n<h2 id=\"安裝-on-my-zsh-與套件\">安裝 on-my-zsh 與套件<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#安裝-on-my-zsh-與套件\"><span class=\"ml-2\">#</span></a></h2>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-comment\"># 可以使用 curl --version 檢查是否安裝過</span>\nsudo apt install curl\n\n<span class=\"hljs-comment\"># 安裝 oh-my-zsh</span>\nsh -c <span class=\"hljs-string\">\"<span class=\"hljs-subst\">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>\"</span>\n\n<span class=\"hljs-comment\"># 安裝套件</span>\n<span class=\"hljs-comment\">## zsh 語法高亮</span>\ngit <span class=\"hljs-built_in\">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class=\"hljs-variable\">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-syntax-highlighting\n\n<span class=\"hljs-comment\">## zsh 指令依照歷史紀錄提示</span>\ngit <span class=\"hljs-built_in\">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class=\"hljs-variable\">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-autosuggestions\n\n<span class=\"hljs-comment\">## powerlevel10k 美化 zsh 介面</span>\ngit <span class=\"hljs-built_in\">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git <span class=\"hljs-variable\">${ZSH_CUSTOM:-<span class=\"hljs-variable\">$HOME</span>/.oh-my-zsh/custom}</span>/themes/powerlevel10k\n</code></pre>\n<p>並將這下載套件設定到 .zshrc 的 plugins 區段</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-comment\"># ~/.zshrc</span>\n...\nZSH_THEME=<span class=\"hljs-string\">\"powerlevel10k/powerlevel10k\"</span>\n...\nplugins=(\n        git\n        zsh-syntax-highlighting\n        zsh-autosuggestions\n)\n</code></pre>\n<p>因為 powerlevel10k 這個炫炮套件有用 <a href=\"https://github.com/romkatv/powerlevel10k#manual-font-installation\">特殊字型</a> 需要額外下載</p>\n<p>之後在 Windows Terminal 視窗內按 <code>Ctrl+Shift+,</code> 開啟 settings.json 設定終端機的顯示字型</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-comment\">// settings.json</span>\n<span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"profiles\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"defaults\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"fontFace\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"MesloLGS NF\"</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>最後透過 <code>source ~/.zshrc</code> 讀取設定檔或 <code>p10k configure</code> 初始化 powerlevel10k 的安裝精靈</p>\n<p>https://github.com/romkatv/powerlevel10k#oh-my-zsh\nhttps://ithelp.ithome.com.tw/articles/10235228</p>\n<h2 id=\"安裝-nvmnodejs-與-npm\">安裝 nvm、Node.js 與 npm<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#安裝-nvmnodejs-與-npm\"><span class=\"ml-2\">#</span></a></h2>\n<p>在 WSL 視窗輸入以下指令：</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-comment\"># 使用 curl 安裝 nvm (最新版本可參考 https://github.com/nvm-sh/nvm)</span>\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\n</code></pre>\n<p>安裝 nvm 後須重啟終端機或是透過 <code>source ~/.bashrc</code> 讀取最新的設定</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-comment\"># 列出所有版本</span>\nnvm <span class=\"hljs-built_in\">ls</span>\n<span class=\"hljs-comment\"># 安裝最新穩定版 Node.js</span>\nnvm install --lts\n</code></pre>\n<p>https://docs.microsoft.com/zh-tw/windows/dev-environment/javascript/nodejs-on-wsl</p>\n<p>若需要額外安裝 <code>yarn</code> 可透過 Corepack</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-comment\"># Node.js >= 16.10</span>\ncorepack <span class=\"hljs-built_in\">enable</span>\n</code></pre>\n<p>https://yarnpkg.com/getting-started/install</p>"}},"__N_SSG":true}
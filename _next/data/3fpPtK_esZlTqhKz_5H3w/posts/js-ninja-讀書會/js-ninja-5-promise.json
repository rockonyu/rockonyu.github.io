{"pageProps":{"post":{"title":"JS Ninja: 5. Promise","date":"2020-08-09T00:00:00.000Z","slug":"js-ninja-讀書會/js-ninja-5-promise","content":"<p>簡單的筆記與紀錄額外參考，原作：忍者：JavaScript  開發技巧探秘</p>\n<h2>Generator</h2>\n<p>使用生成器函式建立迭代器物件</p>\n<pre><code class=\"hljs language-JS\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title hljs-class\">WeaponGenerator</span>() {\n  ...\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">\"Katana\"</span>;\n  ...\n}\n\n<span class=\"hljs-keyword\">const</span> weaponsIterator = <span class=\"hljs-title hljs-class\">WeaponGenerator</span>();\n\n<span class=\"hljs-keyword\">const</span> result1 = weaponsIterator.<span class=\"hljs-title hljs-function\">next</span>();\n</code></pre>\n<p>使用 <code>yield*</code> 將任務委派給其他生成器</p>\n<pre><code class=\"hljs language-JS\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title hljs-class\">WarriorGenerator</span>() {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">\"Sun Tzu\"</span>;\n  <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title hljs-class\">NinjaGenerator</span>();\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">\"Genghis Khan\"</span>;\n}\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title hljs-class\">NinjaGenerator</span>() {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">\"Hattori\"</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">\"Yoshi\"</span>;\n}\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> warrior <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title hljs-class\">WarriorGenerator</span>()) {\n  ...\n}\n</code></pre>\n<h3>ref:</h3>\n<p>https://zh.javascript.info/generators</p>\n<h2>Promise</h2>\n<p>Using async/await with a forEach loop\nhttps://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop</p>\n<h3>ref:</h3>\n<ul>\n<li><code>finally</code> 使用時機 - https://zh.javascript.info/promise-basics#finally</li>\n<li>錯誤處理 - https://zh.javascript.info/promise-error-handling#qi-ta</li>\n<li>async await - https://zh.javascript.info/async-await</li>\n<li>Microtask Queue\n<ul>\n<li>https://zh.javascript.info/microtask-queue</li>\n<li>https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/</li>\n</ul>\n</li>\n</ul>"}},"__N_SSG":true}
<!DOCTYPE html><html lang="en" class="dark"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Blog."/><meta property="og:image" content="https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>JS Ninja: 2. First-Class Function | Austin&#x27;s Blog</title><meta property="og:image"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/36ffbeb137063984.css" as="style"/><link rel="stylesheet" href="/_next/static/css/36ffbeb137063984.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e53b81a0fc02a481.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e53b81a0fc02a481.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-01df828e572375b9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-76cd57bf65f05d70.js" defer=""></script><script src="/_next/static/chunks/740-91d59e11f93e1060.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...slug%5D-e3635f87d2450c91.js" defer=""></script><script src="/_next/static/oF2HWPux12-Lop6soczsC/_buildManifest.js" defer=""></script><script src="/_next/static/oF2HWPux12-Lop6soczsC/_ssgManifest.js" defer=""></script><script src="/_next/static/oF2HWPux12-Lop6soczsC/_middlewareManifest.js" defer=""></script></head><body class="dark:bg-accent-9 dark:text-white"><div id="__next" data-reactroot=""><div class="min-h-screen"><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/">Blog</a>.</h2><article class="mb-16"><h1 class="text-6xl md:text-7xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">JS Ninja: 2. First-Class Function</h1><div class="max-w-2xl mx-auto"><div class="mb-6 text-lg"><time dateTime="2020-07-11T00:00:00.000Z">7/11/2020, 12:00:00 AM</time></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__8Ahqd mb-16"><p>簡單的筆記與紀錄額外參考，原作：忍者：JavaScript  開發技巧探秘</p>
<h2 id="ch3---初探頭等函式定義與引數">CH3 - 初探頭等函式：定義與引數<a aria-hidden="true" tabindex="-1" href="#ch3---初探頭等函式定義與引數"><span>#</span></a></h2>
<h3 id="31-使用函式與否的差異為何">3.1 使用函式與否的差異為何？<a aria-hidden="true" tabindex="-1" href="#31-使用函式與否的差異為何"><span>#</span></a></h3>
<p>JavaScript 中物件與函式有以下特性：</p>
<ul>
<li>透過實值 (literal) 建立</li>
<li>指派給變數、陣列資料與其他物件的屬性</li>
<li>作為引數傳遞給函式</li>
<li>可以做為函式的回傳值</li>
<li>擁有可動態建立和指派的屬性</li>
</ul>
<p>頭等函式的其中一個特性是可以作為引數傳遞給函式。</p>
<p>回呼函式是設置一個預備在稍後呼叫的函式，藉由瀏覽器在事件處理階段或透過其他程式碼。</p>
<p>JavaScript  最重要的特性之一是能夠在程式的任何地方建立函式，使程式碼更緊湊易理解，還可以避免全域命名空間被汙染 (例如箭頭函式)。</p>
<p>ex. 使用比對器進行排序，不需要考慮排序演算法的細節：</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> values = [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>]

values.<span class="hljs-title hljs-function">sort</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">values, values</span>) {
  <span class="hljs-keyword">return</span> value1 - value2
})
</code></pre>
<h3 id="32-函式作為物件的有趣之處">3.2 函式作為物件的有趣之處<a aria-hidden="true" tabindex="-1" href="#32-函式作為物件的有趣之處"><span>#</span></a></h3>
<p>我們將屬性附加到函式上，可以用來：</p>
<ul>
<li>儲存函式</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> store = {
  <span class="hljs-attr">nextId</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">cache</span>: {},
  <span class="hljs-attr">add</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">fn</span>) {
    <span class="hljs-keyword">if</span> (!fn.<span class="hljs-property">id</span>) {
      fn.<span class="hljs-property">id</span> = <span class="hljs-variable hljs-language">this</span>.<span class="hljs-property">nextId</span>++
      <span class="hljs-variable hljs-language">this</span>.<span class="hljs-property">cache</span>[fn.<span class="hljs-property">id</span>] = fn
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
  },
}
<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">ninja</span>(<span class="hljs-params"></span>) {}

<span class="hljs-title hljs-function">assert</span>(store.<span class="hljs-title hljs-function">add</span>(ninja), <span class="hljs-string">'Function was safely added.'</span>)
<span class="hljs-title hljs-function">assert</span>(!store.<span class="hljs-title hljs-function">add</span>(ninja), <span class="hljs-string">'But it was only added once.'</span>)
</code></pre>
<ul>
<li>自我記憶函式</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">isPrime</span>(<span class="hljs-params">value</span>) {
  <span class="hljs-keyword">if</span> (!isPrime.<span class="hljs-property">answers</span>) {
    isPrime.<span class="hljs-property">answers</span> = {}
  }

  <span class="hljs-keyword">if</span> (isPrime.<span class="hljs-property">answers</span>[value] !== <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">return</span> isPrime.<span class="hljs-property">answers</span>[value]
  }

  <span class="hljs-keyword">var</span> prime = value !== <span class="hljs-number">0</span> &#x26;&#x26; value !== <span class="hljs-number">1</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">2</span>; i &#x3C; value; i++) {
    <span class="hljs-keyword">if</span> (value % i === <span class="hljs-number">0</span>) {
      prime = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">break</span>
    }
  }
  <span class="hljs-keyword">return</span> (isPrime.<span class="hljs-property">answers</span>[value] = prime) <span class="hljs-comment">// 儲存計算結果</span>
}
</code></pre>
<p>pros:</p>
<ul>
<li>藉由取得之前計算的值改善呼叫函式的效能</li>
<li>背景作業，不需要執行特殊請求或額外初始化</li>
</ul>
<p>cons:</p>
<ul>
<li>任何形式的暫存都式花費記憶體空間換取效能</li>
<li>暫存不應該與業務邏輯綁在一起</li>
<li>很難對這樣的演算法進行負載測試或測量效能，因為結果取決於之前的輸入</li>
</ul>
<h3 id="33-定義函式">3.3 定義函式<a aria-hidden="true" tabindex="-1" href="#33-定義函式"><span>#</span></a></h3>
<ul>
<li>函式宣告 (declaration) 與函式表達式 (expression)</li>
<li>箭頭函式</li>
<li>函式建構式</li>
<li>生成器 (generator)</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// 獨立函式宣告</span>
<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">myFunctionDeclaration</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// 內部函式宣告</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">innerFunction</span>(<span class="hljs-params"></span>) {}
}

<span class="hljs-comment">// 函式表達式與變數宣告 &#x26; 指派</span>
<span class="hljs-keyword">var</span> myFunc = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {}
<span class="hljs-comment">// 函式表達式作為回呼引數</span>
<span class="hljs-title hljs-function">myFunc</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-comment">// 函式表達式作為回傳值</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {}
})

<span class="hljs-comment">// 具名的函式表達式做為立即函式的一部分</span>
;(<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">namedFunctionExpression</span>(<span class="hljs-params"></span>) {})()

<span class="hljs-comment">// 作為一元運作子的引數而被立即呼叫的函式表達式</span>
;+(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {})()
;-(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {})()
!(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {})()
~(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {})()
</code></pre>
<p>立即函式 (IIFE)</p>
<pre><code class="hljs language-javascript">;(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {})(<span class="hljs-number">3</span>)
</code></pre>
<p>箭頭函式</p>
<ul>
<li>param => expression</li>
<li>主體如果只有表達式，即是函式的回傳值</li>
<li>如果沒有 return 敘述句，呼叫的結果是 undefined</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> values = [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>]
values.<span class="hljs-title hljs-function">sort</span>(<span class="hljs-function">(<span class="hljs-params">value1, value2</span>) =></span> value1 - value2)
</code></pre>
<h3 id="34-引數-argument-與函式參數-parameter">3.4 引數 (argument) 與函式參數 (parameter)<a aria-hidden="true" tabindex="-1" href="#34-引數-argument-與函式參數-parameter"><span>#</span></a></h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// 函式參數</span>
<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">skulk</span>(<span class="hljs-params">ninja</span>) {
  <span class="hljs-comment">// 函式引數</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title hljs-function">performAction</span>(ninja, <span class="hljs-string">'skulking'</span>)
}
</code></pre>
<p>使用不定參數</p>
<ul>
<li>需要放在最後一個函式參數，否則會得到 Syntax Error</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">multiMax</span>(<span class="hljs-params">first, ...remainingNumbers</span>) {
  <span class="hljs-keyword">var</span> sorted = remainingNumbers.<span class="hljs-title hljs-function">sort</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> b - a
  })
  <span class="hljs-keyword">return</span> first * sorted[<span class="hljs-number">0</span>]
}
</code></pre>
<ul>
<li>使用預設參數</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">performAction</span>(<span class="hljs-params">ninja, action = <span class="hljs-string">'skulking'</span></span>) {
  <span class="hljs-keyword">return</span> ninja + <span class="hljs-string">' '</span> + action
}
</code></pre>
<h3 id="35-總結">3.5 總結<a aria-hidden="true" tabindex="-1" href="#35-總結"><span>#</span></a></h3>
<h3 id="補充參考">補充參考<a aria-hidden="true" tabindex="-1" href="#補充參考"><span>#</span></a></h3>
<ul>
<li><a href="https://www.notion.so/Chapter3-df2158c43739481bafbf6a1b43709d70">阿福的筆記</a></li>
<li><a href="https://www.coderbridge.com/@waynelee2048/a58346d15d2f4100ae6eebd8ed34aff3">阿寬的筆記</a></li>
</ul></div><div id="disqus_thread"></div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2 dark:bg-accent-8"><div class="container mx-auto px-5"><div class="py-16 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4"></h3></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"JS Ninja: 2. First-Class Function","date":"2020-07-11T00:00:00.000Z","slug":"2020/js-ninja-讀書會/js-ninja-2-first-class-function","content":"\u003cp\u003e簡單的筆記與紀錄額外參考，原作：忍者：JavaScript  開發技巧探秘\u003c/p\u003e\n\u003ch2 id=\"ch3---初探頭等函式定義與引數\"\u003eCH3 - 初探頭等函式：定義與引數\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#ch3---初探頭等函式定義與引數\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"31-使用函式與否的差異為何\"\u003e3.1 使用函式與否的差異為何？\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#31-使用函式與否的差異為何\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eJavaScript 中物件與函式有以下特性：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e透過實值 (literal) 建立\u003c/li\u003e\n\u003cli\u003e指派給變數、陣列資料與其他物件的屬性\u003c/li\u003e\n\u003cli\u003e作為引數傳遞給函式\u003c/li\u003e\n\u003cli\u003e可以做為函式的回傳值\u003c/li\u003e\n\u003cli\u003e擁有可動態建立和指派的屬性\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e頭等函式的其中一個特性是可以作為引數傳遞給函式。\u003c/p\u003e\n\u003cp\u003e回呼函式是設置一個預備在稍後呼叫的函式，藉由瀏覽器在事件處理階段或透過其他程式碼。\u003c/p\u003e\n\u003cp\u003eJavaScript  最重要的特性之一是能夠在程式的任何地方建立函式，使程式碼更緊湊易理解，還可以避免全域命名空間被汙染 (例如箭頭函式)。\u003c/p\u003e\n\u003cp\u003eex. 使用比對器進行排序，不需要考慮排序演算法的細節：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e values = [\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]\n\nvalues.\u003cspan class=\"hljs-title hljs-function\"\u003esort\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003evalues, values\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e value1 - value2\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"32-函式作為物件的有趣之處\"\u003e3.2 函式作為物件的有趣之處\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#32-函式作為物件的有趣之處\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e我們將屬性附加到函式上，可以用來：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e儲存函式\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e store = {\n  \u003cspan class=\"hljs-attr\"\u003enextId\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ecache\u003c/span\u003e: {},\n  \u003cspan class=\"hljs-attr\"\u003eadd\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!fn.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e) {\n      fn.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e = \u003cspan class=\"hljs-variable hljs-language\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enextId\u003c/span\u003e++\n      \u003cspan class=\"hljs-variable hljs-language\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecache\u003c/span\u003e[fn.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e] = fn\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n    }\n  },\n}\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eninja\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {}\n\n\u003cspan class=\"hljs-title hljs-function\"\u003eassert\u003c/span\u003e(store.\u003cspan class=\"hljs-title hljs-function\"\u003eadd\u003c/span\u003e(ninja), \u003cspan class=\"hljs-string\"\u003e'Function was safely added.'\u003c/span\u003e)\n\u003cspan class=\"hljs-title hljs-function\"\u003eassert\u003c/span\u003e(!store.\u003cspan class=\"hljs-title hljs-function\"\u003eadd\u003c/span\u003e(ninja), \u003cspan class=\"hljs-string\"\u003e'But it was only added once.'\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e自我記憶函式\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eisPrime\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003evalue\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!isPrime.\u003cspan class=\"hljs-property\"\u003eanswers\u003c/span\u003e) {\n    isPrime.\u003cspan class=\"hljs-property\"\u003eanswers\u003c/span\u003e = {}\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (isPrime.\u003cspan class=\"hljs-property\"\u003eanswers\u003c/span\u003e[value] !== \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e isPrime.\u003cspan class=\"hljs-property\"\u003eanswers\u003c/span\u003e[value]\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e prime = value !== \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u0026#x26;\u0026#x26; value !== \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e; i \u0026#x3C; value; i++) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (value % i === \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) {\n      prime = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e\n    }\n  }\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (isPrime.\u003cspan class=\"hljs-property\"\u003eanswers\u003c/span\u003e[value] = prime) \u003cspan class=\"hljs-comment\"\u003e// 儲存計算結果\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003epros:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e藉由取得之前計算的值改善呼叫函式的效能\u003c/li\u003e\n\u003cli\u003e背景作業，不需要執行特殊請求或額外初始化\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003econs:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e任何形式的暫存都式花費記憶體空間換取效能\u003c/li\u003e\n\u003cli\u003e暫存不應該與業務邏輯綁在一起\u003c/li\u003e\n\u003cli\u003e很難對這樣的演算法進行負載測試或測量效能，因為結果取決於之前的輸入\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"33-定義函式\"\u003e3.3 定義函式\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#33-定義函式\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e函式宣告 (declaration) 與函式表達式 (expression)\u003c/li\u003e\n\u003cli\u003e箭頭函式\u003c/li\u003e\n\u003cli\u003e函式建構式\u003c/li\u003e\n\u003cli\u003e生成器 (generator)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 獨立函式宣告\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003emyFunctionDeclaration\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// 內部函式宣告\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003einnerFunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {}\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// 函式表達式與變數宣告 \u0026#x26; 指派\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e myFunc = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {}\n\u003cspan class=\"hljs-comment\"\u003e// 函式表達式作為回呼引數\u003c/span\u003e\n\u003cspan class=\"hljs-title hljs-function\"\u003emyFunc\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// 函式表達式作為回傳值\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {}\n})\n\n\u003cspan class=\"hljs-comment\"\u003e// 具名的函式表達式做為立即函式的一部分\u003c/span\u003e\n;(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003enamedFunctionExpression\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {})()\n\n\u003cspan class=\"hljs-comment\"\u003e// 作為一元運作子的引數而被立即呼叫的函式表達式\u003c/span\u003e\n;+(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {})()\n;-(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {})()\n!(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {})()\n~(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {})()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e立即函式 (IIFE)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e;(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {})(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e箭頭函式\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eparam =\u003e expression\u003c/li\u003e\n\u003cli\u003e主體如果只有表達式，即是函式的回傳值\u003c/li\u003e\n\u003cli\u003e如果沒有 return 敘述句，呼叫的結果是 undefined\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e values = [\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]\nvalues.\u003cspan class=\"hljs-title hljs-function\"\u003esort\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003evalue1, value2\u003c/span\u003e) =\u003e\u003c/span\u003e value1 - value2)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"34-引數-argument-與函式參數-parameter\"\u003e3.4 引數 (argument) 與函式參數 (parameter)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#34-引數-argument-與函式參數-parameter\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 函式參數\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eskulk\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eninja\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// 函式引數\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eperformAction\u003c/span\u003e(ninja, \u003cspan class=\"hljs-string\"\u003e'skulking'\u003c/span\u003e)\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e使用不定參數\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e需要放在最後一個函式參數，否則會得到 Syntax Error\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003emultiMax\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efirst, ...remainingNumbers\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e sorted = remainingNumbers.\u003cspan class=\"hljs-title hljs-function\"\u003esort\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e b - a\n  })\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e first * sorted[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e使用預設參數\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eperformAction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eninja, action = \u003cspan class=\"hljs-string\"\u003e'skulking'\u003c/span\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e ninja + \u003cspan class=\"hljs-string\"\u003e' '\u003c/span\u003e + action\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"35-總結\"\u003e3.5 總結\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#35-總結\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch3 id=\"補充參考\"\u003e補充參考\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#補充參考\"\u003e\u003cspan\u003e#\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.notion.so/Chapter3-df2158c43739481bafbf6a1b43709d70\"\u003e阿福的筆記\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.coderbridge.com/@waynelee2048/a58346d15d2f4100ae6eebd8ed34aff3\"\u003e阿寬的筆記\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e"}},"__N_SSG":true},"page":"/posts/[...slug]","query":{"slug":["2020","js-ninja-讀書會","js-ninja-2-first-class-function"]},"buildId":"oF2HWPux12-Lop6soczsC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>